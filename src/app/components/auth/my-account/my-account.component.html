<div class="container-fluid">
  <div class="row">
    <!-- Vertical Navigation Bar -->
    <div class="col-md-3">
      <ul class="nav flex-column">
        <li>
          <p>
            Account Type:
            <span
              class="badge"
              [ngClass]="{
                'text-bg-danger': loggedInUser.userType === 'seller',
                'text-bg-primary': loggedInUser.userType !== 'seller'
              }"
              >{{ loggedInUser.userType | uppercase }}</span
            >
          </p>
        </li>
        <li class="nav-item">
          <a class="nav-link" (click)="activeTab = 'address'">Address</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" (click)="activeTab = 'payment'">Payment</a>
        </li>
      </ul>
    </div>

    <!-- Tab Content -->
    <div class="col-md-9">
      <!--readonly mode-->
      <div *ngIf="activeTab === 'address' && !edit && !loading">
        <form [formGroup]="addressForm" class="form-style">
          <div class="form-group">
            <label for="businessName">Business Name:</label>
            <input
              type="text"
              class="form-control-plaintext mb-2"
              id="businessName"
              formControlName="businessName"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="registrationNumber"
              >Business Registration Number:</label
            >
            <input
              type="text"
              class="form-control-plaintext mb-2"
              id="registrationNumber"
              formControlName="registrationNumber"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="address">Address:</label>
            <input
              type="text"
              class="form-control-plaintext mb-2"
              id="address"
              formControlName="address"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="city">City:</label>
            <input
              type="text"
              class="form-control-plaintext mb-2"
              id="city"
              formControlName="city"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="province">Province:</label>
            <input
              type="text"
              class="form-control-plaintext mb-2"
              id="province"
              formControlName="province"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="zipCode">ZIP Code:</label>
            <input
              type="text"
              class="form-control-plaintext mb-2"
              id="zipCode"
              formControlName="zipCode"
            />
          </div>

          <button class="btn btn-primary mt-3" (click)="this.edit = true">
            Edit
          </button>
        </form>
      </div>

      <!--If edit mode is on-->
      <div *ngIf="activeTab === 'address' && edit == true">
        <!-- Address Form -->
        <form
          [formGroup]="addressForm"
          (ngSubmit)="saveAddress()"
          class="form-style"
        >
          <div class="form-group">
            <label for="businessName">Business Name:</label>
            <input
              type="text"
              class="form-control mb-2"
              id="businessName"
              formControlName="businessName"
            />
          </div>

          <div class="form-group">
            <label for="registrationNumber"
              >Business Registration Number:</label
            >
            <input
              type="text"
              class="form-control mb-2"
              id="registrationNumber"
              formControlName="registrationNumber"
            />
          </div>

          <div class="form-group">
            <label for="address">Address:</label>
            <input
              type="text"
              class="form-control mb-2"
              id="address"
              formControlName="address"
            />
          </div>

          <div class="form-group">
            <label for="city">City:</label>
            <input
              type="text"
              class="form-control"
              id="city"
              formControlName="city"
            />
          </div>

          <div class="form-group">
            <label for="province">Province:</label>
            <input
              type="text"
              class="form-control"
              id="province"
              formControlName="province"
            />
          </div>

          <div class="form-group">
            <label for="zipCode">ZIP Code:</label>
            <input
              type="text"
              class="form-control"
              id="zipCode"
              formControlName="zipCode"
            />
          </div>

          <button type="submit" class="btn btn-primary mt-3">Save</button>
        </form>
      </div>

      <div *ngIf="activeTab === 'payment'">
        <!-- Payment Form -->
        <form
          [formGroup]="paymentForm"
          (ngSubmit)="savePayment()"
          class="form-style"
        >
          <div class="form-group">
            <label for="cardNumber">Card Number:</label>
            <input
              type="text"
              class="form-control"
              id="cardNumber"
              formControlName="cardNumber"
            />
          </div>

          <div class="form-group">
            <label for="expiryDate">Expiry Date:</label>
            <input
              type="text"
              class="form-control"
              id="expiryDate"
              formControlName="expiryDate"
            />
          </div>

          <div class="form-group">
            <label for="cvv">CVV:</label>
            <input
              type="text"
              class="form-control"
              id="cvv"
              formControlName="cvv"
            />
          </div>

          <button type="submit" class="btn btn-primary mt-3">Save</button>
        </form>
      </div>
    </div>
  </div>
</div>
